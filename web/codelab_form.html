<polymer-element name="codelab-form" attributes="codelab">
  <template>
    <form on-submit="{{validateCodelab}}">
      <div class="error" hidden?="{{formErrorMessage.isEmpty}}">
        {{formErrorMessage}}
      </div>
      <div hidden?="{{formErrorMessage.isNotEmpty}}">
        Create a codelab proposal.
      </div>
      <div>
        <textarea placeholder="Add title" value="{{codelab.title}}"
            on-keyup="{{validateTitle}}">
        </textarea>
        <div>
          <span class="chars-left">{{maxTitleLength - codelab.title.length}}</span>
          <span class="error" hidden?="{{titleErrorMessage.isEmpty}}">
            {{titleErrorMessage}}
          </span>
        </div>
      </div>
      <div>
        <textarea placeholder="Add description" value="{{codelab.description}}"
            on-keyup="{{validateDescription}}">
        </textarea>
        <div>
          <span class="chars-left">
            {{maxDescriptionLength - codelab.description.length}}
          </span>
          <span class="error" hidden?="{{descriptionErrorMessage.isEmpty}}">
            {{descriptionErrorMessage}}
          </span>
        </div>
      </div>
      <div>
        <label>Level: </label>
        <select value="{{codelab.level}}">
          <option template repeat="{{level in allLevels}}">
            {{level}}
          </option>
        </select>
      </div>
      <div>
        <button type="submit">Submit</button>
        <button type="button" on-click="{{cancelForm}}">Cancel</button>
      </div>
    </form>
  </template>
  <script type="application/dart" src="codelab_form.dart"></script>
</polymer-element>